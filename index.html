<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CBT Bahasa Indonesia Kelas 4 - Bab 3</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            box-sizing: border-box;
        }
        .gradient-bg {
            background: linear-gradient(135deg, #dc2626 0%, #ea580c 50%, #f97316 100%);
        }
        .card-shadow {
            box-shadow: 0 10px 25px rgba(220, 38, 38, 0.3);
        }
        .btn-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.2);
        }
        .fade-in {
            animation: fadeIn 0.5s ease-in;
        }
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(20px); }
            to { opacity: 1; transform: translateY(0); }
        }
        .pulse-animation {
            animation: pulse 2s infinite;
        }
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
    </style>
</head>
<body class="gradient-bg min-h-full">
    <main class="min-h-full flex items-center justify-center p-4">
        <!-- Halaman Login -->
        <div id="loginPage" class="w-full max-w-md">
            <div class="bg-white rounded-2xl card-shadow p-8 fade-in">
                <div class="text-center mb-8">
                    <div class="w-20 h-20 bg-gradient-to-br from-red-500 to-orange-500 rounded-full mx-auto mb-4 flex items-center justify-center pulse-animation">
                        <span class="text-white text-3xl font-bold">üìö</span>
                    </div>
                    <h1 class="text-2xl font-bold text-gray-800 mb-2">CBT Bahasa Indonesia</h1>
                    <p class="text-gray-600">Kelas 4 - Bab 3</p>
                </div>
                
                <form id="loginForm" class="space-y-6">
                    <div>
                        <label for="studentName" class="block text-sm font-medium text-gray-700 mb-2">Nama Siswa</label>
                        <input type="text" id="studentName" required 
                               class="w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-red-500 focus:border-red-500 transition-colors"
                               placeholder="Masukkan nama lengkap Anda">
                    </div>
                    
                    <button type="submit" 
                            class="w-full bg-gradient-to-r from-red-600 to-orange-600 text-white py-3 px-6 rounded-lg font-semibold btn-hover transition-all duration-300">
                        Mulai Ujian
                    </button>
                </form>
                
                <div class="mt-6 text-center text-sm text-gray-500">
                    <p>‚è∞ Waktu ujian: 30 menit</p>
                    <p>üìù Jumlah soal: 17 soal</p>
                </div>
            </div>
        </div>

        <!-- Halaman Ujian -->
        <div id="examPage" class="w-full max-w-4xl hidden">
            <div class="bg-white rounded-2xl card-shadow p-6 fade-in">
                <!-- Header -->
                <div class="flex justify-between items-center mb-6 pb-4 border-b border-gray-200">
                    <div>
                        <h2 class="text-xl font-bold text-gray-800">Ujian Bahasa Indonesia</h2>
                        <p class="text-gray-600">Siswa: <span id="studentNameDisplay" class="font-semibold"></span></p>
                    </div>
                    <div class="text-right">
                        <div class="bg-gradient-to-r from-red-100 to-orange-100 px-4 py-2 rounded-lg">
                            <p class="text-sm text-gray-600">Waktu tersisa</p>
                            <p id="timer" class="text-xl font-bold text-red-600">30:00</p>
                        </div>
                    </div>
                </div>

                <!-- Progress Bar -->
                <div class="mb-6">
                    <div class="flex justify-between text-sm text-gray-600 mb-2">
                        <span>Soal <span id="currentQuestion">1</span> dari 17</span>
                        <span id="progressText">0% selesai</span>
                    </div>
                    <div class="w-full bg-gray-200 rounded-full h-2">
                        <div id="progressBar" class="bg-gradient-to-r from-red-500 to-orange-500 h-2 rounded-full transition-all duration-300" style="width: 0%"></div>
                    </div>
                </div>

                <!-- Soal -->
                <div id="questionContainer" class="mb-8">
                    <!-- Soal akan dimuat di sini -->
                </div>

                <!-- Navigasi -->
                <div class="flex justify-between">
                    <button id="prevBtn" class="px-6 py-2 bg-gray-300 text-gray-700 rounded-lg hover:bg-gray-400 transition-colors disabled:opacity-50" disabled>
                        ‚Üê Sebelumnya
                    </button>
                    <button id="nextBtn" class="px-6 py-2 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg btn-hover transition-all duration-300">
                        Selanjutnya ‚Üí
                    </button>
                    <button id="finishBtn" class="px-6 py-2 bg-green-600 text-white rounded-lg btn-hover transition-all duration-300 hidden">
                        Selesai Ujian
                    </button>
                </div>
            </div>
        </div>

        <!-- Halaman Hasil -->
        <div id="resultPage" class="w-full max-w-4xl hidden">
            <div class="bg-white rounded-2xl card-shadow p-8 fade-in">
                <div class="text-center mb-8">
                    <div class="w-24 h-24 bg-gradient-to-br from-green-500 to-green-600 rounded-full mx-auto mb-4 flex items-center justify-center">
                        <span class="text-white text-4xl">üéâ</span>
                    </div>
                    <h2 class="text-3xl font-bold text-gray-800 mb-2">Ujian Selesai!</h2>
                    <p class="text-gray-600">Selamat <span id="finalStudentName" class="font-semibold"></span></p>
                </div>

                <div class="grid md:grid-cols-2 gap-6 mb-8">
                    <div class="bg-gradient-to-br from-red-50 to-orange-50 p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Hasil Ujian</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span>Jawaban Benar:</span>
                                <span id="correctCount" class="font-bold text-green-600">0</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Jawaban Salah:</span>
                                <span id="wrongCount" class="font-bold text-red-600">0</span>
                            </div>
                            <div class="flex justify-between border-t pt-3">
                                <span class="font-semibold">Nilai:</span>
                                <span id="finalScore" class="font-bold text-2xl text-blue-600">0</span>
                            </div>
                        </div>
                    </div>

                    <div class="bg-gradient-to-br from-blue-50 to-indigo-50 p-6 rounded-xl">
                        <h3 class="text-lg font-semibold text-gray-800 mb-4">Statistik</h3>
                        <div class="space-y-3">
                            <div class="flex justify-between">
                                <span>Waktu Pengerjaan:</span>
                                <span id="timeUsed" class="font-semibold">0 menit</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Persentase:</span>
                                <span id="percentage" class="font-semibold">0%</span>
                            </div>
                            <div class="flex justify-between">
                                <span>Predikat:</span>
                                <span id="grade" class="font-bold text-lg">-</span>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Pembahasan -->
                <div class="bg-gray-50 rounded-xl p-6">
                    <h3 class="text-xl font-bold text-gray-800 mb-6">üìñ Pembahasan Soal</h3>
                    <div id="reviewContainer" class="space-y-6">
                        <!-- Pembahasan akan dimuat di sini -->
                    </div>
                </div>

                <div class="text-center mt-8">
                    <button onclick="location.reload()" 
                            class="px-8 py-3 bg-gradient-to-r from-red-600 to-orange-600 text-white rounded-lg btn-hover transition-all duration-300">
                        Ujian Lagi
                    </button>
                </div>
            </div>
        </div>
    </main>

    <script>
        // Data soal
        const questions = [
            {
                question: "Lampu lalu lintas yang berguna untuk memberi petunjuk kepada pemakai jalan untuk berhati-hati berwarna . . . .",
                options: ["putih", "merah", "kuning", "hijau"],
                correct: 2,
                explanation: "Lampu kuning pada lampu lalu lintas berfungsi sebagai peringatan untuk berhati-hati dan bersiap-siap berhenti."
            },
            {
                question: "Kalimat berikut yang menggunakan tanda koma dengan tepat adalah . . . .",
                options: [
                    "Ruang baca, dan ruang rapat berada di lantai tiga",
                    "Bayu, Indra, dan Jojo pergi ke pantai",
                    "Bu Sulis, berangkat ke kantor pukul 08.00",
                    "Karena kesiangan, Olga terlambat, tiba di sekolah"
                ],
                correct: 1,
                explanation: "Tanda koma digunakan untuk memisahkan unsur-unsur dalam suatu perincian atau pembilangan. Pilihan B benar karena memisahkan nama-nama dengan tepat."
            },
            {
                question: "Sekolah mendorong siswanya agar gemar membaca. Lawan kata gemar adalah . . . .",
                options: ["senang sekali", "giat sekali", "malas sekali", "ramai sekali"],
                correct: 2,
                explanation: "Gemar berarti suka atau senang melakukan sesuatu. Lawan katanya adalah malas, yang berarti tidak suka atau enggan melakukan sesuatu."
            },
            {
                question: "Dani membunyikan bel sepedanya, Bang Darwo membunyikan klakson sepeda motornya. Makna kata klakson pada kalimat di atas yaitu.....",
                options: [
                    "topi pelindung kepala yang dibuat dari bahan yang tahan benturan",
                    "lampu berwarna merah, kuning, dan hijau yang dipasang di perempatan jalan",
                    "alat yang dibunyikan dengan listrik pada kendaraan bermotor",
                    "cakram yang dapat menghentikan kecepatan sepeda motor"
                ],
                correct: 2,
                explanation: "Klakson adalah alat yang dibunyikan dengan listrik pada kendaraan bermotor untuk memberi tanda atau peringatan."
            },
            {
                question: "Apabila kata cermin diberi awalan 'ber-', maka kata berimbuhannya menjadi...",
                options: ["bercermin", "becermin", "bercemin", "bercerminkan"],
                correct: 1,
                explanation: "Kata 'cermin' + awalan 'ber-' = 'becermin' yang berarti melihat diri sendiri di cermin atau mengambil pelajaran dari sesuatu."
            },
            {
                question: "Kita dapat berlayar ke mana saja selama cuaca mendukung. Pada kamus, kata berlayar dapat kita cari pada kata . . . .",
                options: ["layarkan", "layar", "berdayar", "pelayaran"],
                correct: 1,
                explanation: "Dalam kamus, kata berimbuhan dicari berdasarkan kata dasarnya. Kata dasar dari 'berlayar' adalah 'layar'."
            },
            {
                question: "Contoh pernyataan persetujuan adalah . . . .",
                options: [
                    "Pendapat itu tidak sesuai",
                    "Menurut kami, rambu lalu lintas harus diperbaiki secara berkala.",
                    "Saya sependapat bahwa pengguna jalan wajib menaati rambu lalu lintas",
                    "Saya cukup sependapat"
                ],
                correct: 2,
                explanation: "Pernyataan persetujuan menunjukkan bahwa kita setuju dengan pendapat orang lain. Pilihan C menggunakan kata 'sependapat' yang jelas menunjukkan persetujuan."
            },
            {
                question: "Menurut saya, salah satu faktor rendahnya minat membaca adalah kurangnya motivasi. Kalimat tersebut berisi . . . .",
                options: ["ajakan", "sanggahan", "argumen", "perintah"],
                correct: 2,
                explanation: "Kalimat tersebut berisi argumen karena menyampaikan pendapat atau alasan tentang faktor penyebab rendahnya minat membaca."
            },
            {
                question: "Maura dan Ita hanya bisa bertatapan saat keduanya terkunci di ruang UKS. Imbuhan ber-an pada kata bertatapan mempunyai makna . . . .",
                options: ["memiliki", "melakukan", "saling", "mendapatkan"],
                correct: 2,
                explanation: "Imbuhan ber-an pada kata 'bertatapan' bermakna saling, yaitu saling menatap atau saling memandang."
            },
            {
                question: "Badu berusaha sekuat tenaga untuk memenangkan lomba lari tahun ini. Awalan ber- pada kalimat tersebut dimaknai sebagai",
                options: [
                    "menyatakan jumlah",
                    "melakukan perbuatan mengenai diri sendiri",
                    "melakukan tindakan",
                    "berada dalam keadaan"
                ],
                correct: 1,
                explanation: "Awalan ber- pada kata 'berusaha' bermakna melakukan perbuatan mengenai diri sendiri, yaitu melakukan usaha untuk kepentingan diri sendiri."
            },
            {
                question: "Tempat yang digunakan orang untuk membaca dan meminjam buku adalah . . . .",
                options: ["laboratorium", "perpustakaan", "koperasi", "toko buku"],
                correct: 1,
                explanation: "Perpustakaan adalah tempat yang menyediakan fasilitas untuk membaca dan meminjam buku secara gratis."
            },
            {
                question: "Berikut beberapa ungkapan yang digunakan saat berargumentasi, kecuali . . . .",
                options: [
                    "menurut pendapatku",
                    "saya kurang setuju, menurut saya",
                    "aku sependapat denganmu, karena",
                    "jagalah tindakan kita"
                ],
                correct: 3,
                explanation: "Ungkapan 'jagalah tindakan kita' bukan ungkapan untuk berargumentasi, melainkan ungkapan perintah atau nasihat."
            },
            {
                question: "Kalimat berikut mengandung kata berimbuhan ber-, kecuali . . . .",
                options: [
                    "Paman Dodi bekerja di kantor pemerintah kota",
                    "Zeva dan Anya belajar menari tradisional dan modern",
                    "Ibu Sri membeli beras sebanyak 20 kg.",
                    "Kakakku berlibur dengan teman-teman sekolahnya."
                ],
                correct: 2,
                explanation: "Kata 'beras' bukan kata berimbuhan ber-, melainkan kata dasar. Kata lainnya: bekerja, belajar, berlibur menggunakan awalan ber-."
            },
            {
                question: "Kemarin kami bersepeda bersama-sama. Awalan ber- pada kata yang dicetak miring memiliki makna . . . .",
                options: ["melakukan kegiatan", "himpunan", "memiliki", "mengerjakan"],
                correct: 0,
                explanation: "Awalan ber- pada kata 'bersepeda' bermakna melakukan kegiatan, yaitu melakukan kegiatan mengendarai sepeda."
            },
            {
                question: "Tiara (santai) di teras sambil minum teh. Bentuk kata dalam kurung yang tepat adalah . . . .",
                options: ["bersantai", "menyantai", "tersantai", "bersantaikan"],
                correct: 0,
                explanation: "Kata yang tepat adalah 'bersantai' yang berarti melakukan kegiatan santai atau beristirahat dengan tenang."
            },
            {
                question: "Perhatikan kata-kata berikut! (1) bersayap (2) berlarut (3) berbadan (4) berburu. Awalan ber yang bermakna memiliki ditunjukkan oleh nomor . . . .",
                options: ["(1) dan (2)", "(2) dan (4)", "(1) dan (3)", "(3) dan (4)"],
                correct: 2,
                explanation: "Awalan ber- yang bermakna 'memiliki' terdapat pada kata 'bersayap' (memiliki sayap) dan 'berbadan' (memiliki badan)."
            },
            {
                question: "Fia dan Sulis tetap tidak menyukai kegiatan olahraga. Kata tanya untuk menanyakan alasan yang sesuai dengan kalimat tersebut adalah . . . .",
                options: [
                    "Siapakah yang belum gemar olahraga?",
                    "Mengapa mereka tidak suka olahraga?",
                    "Kapan mereka suka olahraga?",
                    "Di manakah mereka olahraga?"
                ],
                correct: 1,
                explanation: "Kata tanya 'mengapa' digunakan untuk menanyakan alasan atau sebab mengapa Fia dan Sulis tidak menyukai olahraga."
            }
        ];

        let currentQuestionIndex = 0;
        let userAnswers = [];
        let timeLeft = 1800; // 30 menit dalam detik
        let timerInterval;
        let startTime;

        // Event listeners
        document.getElementById('loginForm').addEventListener('submit', function(e) {
            e.preventDefault();
            const studentName = document.getElementById('studentName').value.trim();
            if (studentName) {
                startExam(studentName);
            }
        });

        document.getElementById('nextBtn').addEventListener('click', nextQuestion);
        document.getElementById('prevBtn').addEventListener('click', prevQuestion);
        document.getElementById('finishBtn').addEventListener('click', finishExam);

        function startExam(studentName) {
            document.getElementById('studentNameDisplay').textContent = studentName;
            document.getElementById('loginPage').classList.add('hidden');
            document.getElementById('examPage').classList.remove('hidden');
            
            startTime = new Date();
            startTimer();
            loadQuestion();
        }

        function startTimer() {
            timerInterval = setInterval(function() {
                timeLeft--;
                const minutes = Math.floor(timeLeft / 60);
                const seconds = timeLeft % 60;
                document.getElementById('timer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    finishExam();
                }
            }, 1000);
        }

        function loadQuestion() {
            const question = questions[currentQuestionIndex];
            const container = document.getElementById('questionContainer');
            
            container.innerHTML = `
                <div class="bg-gradient-to-r from-red-50 to-orange-50 p-6 rounded-xl mb-6">
                    <h3 class="text-lg font-semibold text-gray-800 mb-4">
                        Soal ${currentQuestionIndex + 1}
                    </h3>
                    <p class="text-gray-700 leading-relaxed">${question.question}</p>
                </div>
                
                <div class="space-y-3">
                    ${question.options.map((option, index) => `
                        <label class="flex items-center p-4 border border-gray-200 rounded-lg hover:bg-gray-50 cursor-pointer transition-colors">
                            <input type="radio" name="answer" value="${index}" 
                                   class="mr-3 text-red-600 focus:ring-red-500"
                                   ${userAnswers[currentQuestionIndex] === index ? 'checked' : ''}>
                            <span class="font-medium text-gray-700 mr-2">${String.fromCharCode(97 + index)}.</span>
                            <span class="text-gray-700">${option}</span>
                        </label>
                    `).join('')}
                </div>
            `;

            // Update progress
            document.getElementById('currentQuestion').textContent = currentQuestionIndex + 1;
            const progress = ((currentQuestionIndex + 1) / questions.length) * 100;
            document.getElementById('progressBar').style.width = progress + '%';
            document.getElementById('progressText').textContent = Math.round(progress) + '% selesai';

            // Update navigation buttons
            document.getElementById('prevBtn').disabled = currentQuestionIndex === 0;
            
            if (currentQuestionIndex === questions.length - 1) {
                document.getElementById('nextBtn').classList.add('hidden');
                document.getElementById('finishBtn').classList.remove('hidden');
            } else {
                document.getElementById('nextBtn').classList.remove('hidden');
                document.getElementById('finishBtn').classList.add('hidden');
            }

            // Add event listeners to radio buttons
            const radioButtons = container.querySelectorAll('input[type="radio"]');
            radioButtons.forEach(radio => {
                radio.addEventListener('change', function() {
                    userAnswers[currentQuestionIndex] = parseInt(this.value);
                });
            });
        }

        function nextQuestion() {
            if (currentQuestionIndex < questions.length - 1) {
                currentQuestionIndex++;
                loadQuestion();
            }
        }

        function prevQuestion() {
            if (currentQuestionIndex > 0) {
                currentQuestionIndex--;
                loadQuestion();
            }
        }

        function finishExam() {
            clearInterval(timerInterval);
            
            // Hitung hasil
            let correctCount = 0;
            for (let i = 0; i < questions.length; i++) {
                if (userAnswers[i] === questions[i].correct) {
                    correctCount++;
                }
            }
            
            const wrongCount = questions.length - correctCount;
            const score = Math.round((correctCount / questions.length) * 100);
            const percentage = Math.round((correctCount / questions.length) * 100);
            
            // Tentukan predikat
            let grade;
            if (score >= 90) grade = "A (Sangat Baik)";
            else if (score >= 80) grade = "B (Baik)";
            else if (score >= 70) grade = "C (Cukup)";
            else if (score >= 60) grade = "D (Kurang)";
            else grade = "E (Sangat Kurang)";

            // Hitung waktu pengerjaan
            const endTime = new Date();
            const timeUsed = Math.round((endTime - startTime) / 60000); // dalam menit

            // Tampilkan hasil
            document.getElementById('examPage').classList.add('hidden');
            document.getElementById('resultPage').classList.remove('hidden');
            
            document.getElementById('finalStudentName').textContent = document.getElementById('studentNameDisplay').textContent;
            document.getElementById('correctCount').textContent = correctCount;
            document.getElementById('wrongCount').textContent = wrongCount;
            document.getElementById('finalScore').textContent = score;
            document.getElementById('timeUsed').textContent = timeUsed + ' menit';
            document.getElementById('percentage').textContent = percentage + '%';
            document.getElementById('grade').textContent = grade;

            // Tampilkan pembahasan
            showReview();
        }

        function showReview() {
            const container = document.getElementById('reviewContainer');
            let reviewHTML = '';

            questions.forEach((question, index) => {
                const userAnswer = userAnswers[index];
                const isCorrect = userAnswer === question.correct;
                const statusIcon = isCorrect ? '‚úÖ' : '‚ùå';
                const statusColor = isCorrect ? 'text-green-600' : 'text-red-600';

                reviewHTML += `
                    <div class="border border-gray-200 rounded-lg p-4">
                        <div class="flex items-start justify-between mb-3">
                            <h4 class="font-semibold text-gray-800">Soal ${index + 1}</h4>
                            <span class="text-2xl">${statusIcon}</span>
                        </div>
                        
                        <p class="text-gray-700 mb-3">${question.question}</p>
                        
                        <div class="grid gap-2 mb-3">
                            ${question.options.map((option, optIndex) => {
                                let bgColor = '';
                                let textColor = 'text-gray-700';
                                
                                if (optIndex === question.correct) {
                                    bgColor = 'bg-green-100';
                                    textColor = 'text-green-800';
                                } else if (optIndex === userAnswer && userAnswer !== question.correct) {
                                    bgColor = 'bg-red-100';
                                    textColor = 'text-red-800';
                                }
                                
                                return `
                                    <div class="p-2 rounded ${bgColor}">
                                        <span class="${textColor}">
                                            ${String.fromCharCode(97 + optIndex)}. ${option}
                                            ${optIndex === question.correct ? ' ‚úì (Jawaban Benar)' : ''}
                                            ${optIndex === userAnswer && userAnswer !== question.correct ? ' ‚úó (Jawaban Anda)' : ''}
                                        </span>
                                    </div>
                                `;
                            }).join('')}
                        </div>
                        
                        <div class="bg-blue-50 p-3 rounded-lg">
                            <p class="text-sm text-blue-800">
                                <strong>Pembahasan:</strong> ${question.explanation}
                            </p>
                        </div>
                    </div>
                `;
            });

            container.innerHTML = reviewHTML;
        }
    </script>
<script>(function(){function c(){var b=a.contentDocument||a.contentWindow.document;if(b){var d=b.createElement('script');d.innerHTML="window.__CF$cv$params={r:'994a41d7c51c1c0e',t:'MTc2MTQ4NDg5MS4wMDAwMDA='};var a=document.createElement('script');a.nonce='';a.src='/cdn-cgi/challenge-platform/scripts/jsd/main.js';document.getElementsByTagName('head')[0].appendChild(a);";b.getElementsByTagName('head')[0].appendChild(d)}}if(document.body){var a=document.createElement('iframe');a.height=1;a.width=1;a.style.position='absolute';a.style.top=0;a.style.left=0;a.style.border='none';a.style.visibility='hidden';document.body.appendChild(a);if('loading'!==document.readyState)c();else if(window.addEventListener)document.addEventListener('DOMContentLoaded',c);else{var e=document.onreadystatechange||function(){};document.onreadystatechange=function(b){e(b);'loading'!==document.readyState&&(document.onreadystatechange=e,c())}}}})();</script></body>
</html>
